{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "timezone": "Asia/Tokyo",
  "schedule": ["before 8am on weekday"],
  // Wait for stability before adopting new releases
  "minimumReleaseAge": "7 days",
  "extends": [
    "config:recommended",
    "github>aquaproj/aqua-renovate-config#2.9.0",
    "github>aquaproj/aqua-renovate-config:file#2.9.0(\\.config/aqua/.*\\.ya?ml)",
  ],
  "customManagers": [
    {
      "customType": "regex",
      "description": "Update sheldon plugin versions",
      "fileMatch": ["\\.config/sheldon/plugins\\.toml$"],
      // Matches: # renovate: depName=foo/bar
      //          tag = "v1.0.0"
      "matchStrings": [
        "# renovate: depName=(?<depName>\\S+)\\ntag = \"(?<currentValue>[^\"]+)\"",
      ],
      "datasource": "github-tags",
    },
    {
      "customType": "regex",
      "description": "Update gh extension versions",
      "fileMatch": ["\\.config/zsh/.*gh-extensions.*\\.zsh$"],
      // Matches: # renovate: depName=owner/repo
      //          "owner/repo@v1.0.0"
      "matchStrings": [
        "# renovate: depName=(?<depName>\\S+)\\n\\s*\"[^@]+@(?<currentValue>[^\"]+)\"",
      ],
      "datasource": "github-releases",
    },
    {
      "customType": "regex",
      "description": "Update aqua installer script versions",
      "fileMatch": ["etc/scripts/aqua\\.sh$"],
      // Matches: # renovate: depName=owner/repo
      //          VAR_NAME="v1.0.0"
      "matchStrings": [
        "# renovate: depName=(?<depName>\\S+)\\n[A-Z_]+=\"(?<currentValue>[^\"]+)\"",
      ],
      "datasource": "github-releases",
    },
  ],
  "rebaseWhen": "behind-base-branch",
  "automerge": true,
  // Require manual review for breaking changes
  "major": {
    "automerge": false,
  },
  "prConcurrentLimit": 5,
}
