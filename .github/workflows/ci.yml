name: CI
on: push
jobs:
  setUP:
    name: Set Up
    strategy:
      fail-fast: false
      matrix:
        os: [ubuntu-latest, macOS-latest]
    runs-on: ${{ matrix.os }}
    steps:
    - name: Install zsh
      if: runner.os == 'Linux'
      run: |
        sudo apt-get update -y
        sudo apt-get install -y zsh curl make git
    - name: setUP
      run: |
        curl -sL https://raw.githubusercontent.com/cappyzawa/dotfiles/master/etc/install | bash
        ls -al ${HOME}
    - name: Reboot shell
      run: |
        compinit -i
        source ~/.zshrc
        zinit cclear
      # https://github.com/actions/virtual-environments/issues/264#issuecomment-574032011
      # use zsh
      shell: zsh {0}
