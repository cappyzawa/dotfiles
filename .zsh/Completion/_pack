#compdef _pack pack


function _pack {
  local -a commands

  _arguments -C \
    '(-h --help)'{-h,--help}'[Help for '\''pack'\'']' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]' \
    '--version[Show current '\''pack'\'' version]' \
    "1: :->cmnds" \
    "*::arg:->args"

  case $state in
  cmnds)
    commands=(
      "build:Generate app image from source code"
      "rebase:Rebase app image with latest run image"
      "inspect-image:Show information about a built image"
      "inspect-buildpack:Show information about a buildpack"
      "set-run-image-mirrors:Set mirrors to other repositories for a given run image"
      "set-default-builder:Set default builder used by other commands"
      "inspect-builder:Show information about a builder"
      "suggest-builders:Display list of recommended builders"
      "trust-builder:Trust builder"
      "untrust-builder:Stop trusting builder"
      "list-trusted-builders:List Trusted Builders"
      "create-builder:Create builder image"
      "package-buildpack:Package buildpack in OCI format."
      "suggest-stacks:Display list of recommended stacks"
      "version:Show current 'pack' version"
      "report:Display useful information for reporting an issue"
      "completion:Outputs completion script location"
      "help:Help about any command"
    )
    _describe "command" commands
    ;;
  esac

  case "$words[1]" in
  build)
    _pack_build
    ;;
  rebase)
    _pack_rebase
    ;;
  inspect-image)
    _pack_inspect-image
    ;;
  inspect-buildpack)
    _pack_inspect-buildpack
    ;;
  set-run-image-mirrors)
    _pack_set-run-image-mirrors
    ;;
  set-default-builder)
    _pack_set-default-builder
    ;;
  inspect-builder)
    _pack_inspect-builder
    ;;
  suggest-builders)
    _pack_suggest-builders
    ;;
  trust-builder)
    _pack_trust-builder
    ;;
  untrust-builder)
    _pack_untrust-builder
    ;;
  list-trusted-builders)
    _pack_list-trusted-builders
    ;;
  create-builder)
    _pack_create-builder
    ;;
  package-buildpack)
    _pack_package-buildpack
    ;;
  suggest-stacks)
    _pack_suggest-stacks
    ;;
  version)
    _pack_version
    ;;
  report)
    _pack_report
    ;;
  completion)
    _pack_completion
    ;;
  help)
    _pack_help
    ;;
  esac
}

function _pack_build {
  _arguments \
    '(-B --builder)'{-B,--builder}'[Builder image]:' \
    '(*-b *--buildpack)'{\*-b,\*--buildpack}'[Buildpack reference in the form of '\''<buildpack>@<version>'\'',
  path to a buildpack directory (not supported on Windows),
  path/URL to a buildpack .tar or .tgz file, or
  the name of a packaged buildpack image
Repeat for each buildpack in order,
  or supply once by comma-separated list]:' \
    '--clear-cache[Clear image'\''s associated cache before building]' \
    '(-D --default-process)'{-D,--default-process}'[Set the default process type. (default "web")]:' \
    '(-d --descriptor)'{-d,--descriptor}'[Path to the project descriptor file]:' \
    '(*-e *--env)'{\*-e,\*--env}'[Build-time environment variable, in the form '\''VAR=VALUE'\'' or '\''VAR'\''.
When using latter value-less form, value will be taken from current
  environment at the time this command is executed.
This flag may be specified multiple times and will override
  individual values defined by --env-file.]:' \
    '*--env-file[Build-time environment variables file
One variable per line, of the form '\''VAR=VALUE'\'' or '\''VAR'\''
When using latter value-less form, value will be taken from current
  environment at the time this command is executed]:' \
    '(-h --help)'{-h,--help}'[Help for '\''build'\'']' \
    '--network[Connect detect and build containers to network]:' \
    '(-p --path)'{-p,--path}'[Path to app dir or zip-formatted file (defaults to current working directory)]:' \
    '--publish[Publish to registry]' \
    '--pull-policy[Pull policy to use. Accepted values are always, never, and if-not-present. (default "always")]:' \
    '--run-image[Run image (defaults to default stack'\''s run image)]:' \
    '--trust-builder[Trust the provided builder
All lifecycle phases will be run in a single container (if supported by the lifecycle).]' \
    '*--volume[Mount host volume into the build container, in the form '\''<host path>:<target path>[:<mode>]'\''.
Repeat for each volume in order,
  or supply once by comma-separated list]:' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_rebase {
  _arguments \
    '(-h --help)'{-h,--help}'[Help for '\''rebase'\'']' \
    '--publish[Publish to registry]' \
    '--pull-policy[Pull policy to use. Accepted values are always, never, and if-not-present. The default is always]:' \
    '--run-image[Run image to use for rebasing]:' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_inspect-image {
  _arguments \
    '--bom[print bill of materials]' \
    '(-h --help)'{-h,--help}'[Help for '\''inspect-image'\'']' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_inspect-buildpack {
  _arguments \
    '(-d --depth)'{-d,--depth}'[Max depth to display for Detection Order.
Omission of this flag or values < 0 will display the entire tree.]:' \
    '(-h --help)'{-h,--help}'[Help for '\''inspect-buildpack'\'']' \
    '(-r --registry)'{-r,--registry}'[buildpack registry that may be searched]:' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_set-run-image-mirrors {
  _arguments \
    '(-h --help)'{-h,--help}'[Help for '\''set-run-image-mirrors'\'']' \
    '(*-m *--mirror)'{\*-m,\*--mirror}'[Run image mirror
Repeat for each mirror in order,
  or supply once by comma-separated list]:' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_set-default-builder {
  _arguments \
    '(-h --help)'{-h,--help}'[Help for '\''set-default-builder'\'']' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_inspect-builder {
  _arguments \
    '(-d --depth)'{-d,--depth}'[Max depth to display for Detection Order.
Omission of this flag or values < 0 will display the entire tree.]:' \
    '(-h --help)'{-h,--help}'[Help for '\''inspect-builder'\'']' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_suggest-builders {
  _arguments \
    '(-h --help)'{-h,--help}'[Help for '\''suggest-builders'\'']' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_trust-builder {
  _arguments \
    '(-h --help)'{-h,--help}'[Help for '\''trust-builder'\'']' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_untrust-builder {
  _arguments \
    '(-h --help)'{-h,--help}'[Help for '\''untrust-builder'\'']' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_list-trusted-builders {
  _arguments \
    '(-h --help)'{-h,--help}'[Help for '\''list-trusted-builders'\'']' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_create-builder {
  _arguments \
    '(-c --config)'{-c,--config}'[Path to builder TOML file (required)]:' \
    '(-h --help)'{-h,--help}'[Help for '\''create-builder'\'']' \
    '--publish[Publish to registry]' \
    '--pull-policy[Pull policy to use. Accepted values are always, never, and if-not-present. The default is always]:' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_package-buildpack {
  _arguments \
    '(-c --config)'{-c,--config}'[Path to package TOML config (required)]:' \
    '(-f --format)'{-f,--format}'[Format to save package as ("image" or "file")]:' \
    '(-h --help)'{-h,--help}'[Help for '\''package-buildpack'\'']' \
    '--publish[Publish to registry (applies to "--image" only)]' \
    '--pull-policy[Pull policy to use. Accepted values are always, never, and if-not-present. The default is always]:' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_suggest-stacks {
  _arguments \
    '(-h --help)'{-h,--help}'[Help for '\''suggest-stacks'\'']' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_version {
  _arguments \
    '(-h --help)'{-h,--help}'[Help for '\''version'\'']' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_report {
  _arguments \
    '(-e --explicit)'{-e,--explicit}'[Print config without redacting information]' \
    '(-h --help)'{-h,--help}'[Help for '\''report'\'']' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_completion {
  _arguments \
    '(-h --help)'{-h,--help}'[help for completion]' \
    '(-s --shell)'{-s,--shell}'[Generates completion file for [bash|zsh]]:' \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

function _pack_help {
  _arguments \
    '--no-color[Disable color output]' \
    '(-q --quiet)'{-q,--quiet}'[Show less output]' \
    '--timestamps[Enable timestamps in output]' \
    '(-v --verbose)'{-v,--verbose}'[Show more output]'
}

